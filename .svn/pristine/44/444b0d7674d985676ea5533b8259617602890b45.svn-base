package com.vritti.vwb.Adapter;

import android.content.Context;
import android.content.Intent;
import android.support.annotation.NonNull;
import android.support.v7.widget.RecyclerView;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.LinearLayout;
import android.widget.TextView;

import com.vritti.ekatm.R;
import com.vritti.vwb.Beans.ClientDetailsBeans;
import com.vritti.vwb.vworkbench.ClientDetailsCntActivity;
import com.vritti.vwb.vworkbench.ClientDetailsDisplay;
import com.vritti.vwb.vworkbench.WorkspacewiseActDetailActivity;

import java.util.ArrayList;

public class ClientDetailsAdapter extends RecyclerView.Adapter<ClientDetailsAdapter.ClientHolder> {
    Context context;
    ArrayList<ClientDetailsBeans> clientDetailsBeansArrayList;

    public ClientDetailsAdapter(Context context, ArrayList<ClientDetailsBeans> clientDetailsBeansArrayList) {
        this.context = context;
        this.clientDetailsBeansArrayList = clientDetailsBeansArrayList;
    }


    @NonNull
    @Override
    public ClientHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        View itemView = LayoutInflater.from(parent.getContext())
                .inflate(R.layout.vwb_custom_client_act_cnt, parent, false);

        return new ClientHolder(itemView);
    }

    @Override
    public void onBindViewHolder(@NonNull ClientHolder holder, int position) {
        try{
            String clientName = clientDetailsBeansArrayList.get(position).getConsigneeName();
            String assigned = clientDetailsBeansArrayList.get(position).getOpenActivities();
            String overdue = clientDetailsBeansArrayList.get(position).getOverDue();
            String critical = clientDetailsBeansArrayList.get(position).getCritical();
            String unappr = clientDetailsBeansArrayList.get(position).getWaitingApproval();
            String unbilled = clientDetailsBeansArrayList.get(position).getUnbilledAmt();

            holder.txt_client_name.setText(clientName);
            holder.txt_assigned.setText(assigned);
            holder.txt_overdue.setText(overdue);
            holder.txt_critical.setText(critical);
            holder.txt_unapproved.setText(unappr);
            holder.txt_unbilled.setText(unbilled);


        }catch (Exception e){
            e.printStackTrace();
        }

    }

    @Override
    public int getItemCount() {
        return clientDetailsBeansArrayList.size();
    }

    public class ClientHolder extends RecyclerView.ViewHolder {
        TextView txt_unbilled,txt_unapproved,txt_critical,txt_overdue,txt_assigned;
        TextView txt_client_name;
        LinearLayout lay_assigned,lay_overdue,lay_critical,lay_unapproved,lay_unbilled;
        public ClientHolder(View itemView) {
            super(itemView);
            txt_assigned = itemView.findViewById(R.id.txt_assigned);
            txt_unbilled = itemView.findViewById(R.id.txt_unbilled);
            txt_unapproved = itemView.findViewById(R.id.txt_unapproved);
            txt_critical = itemView.findViewById(R.id.txt_critical);
            txt_overdue = itemView.findViewById(R.id.txt_overdue);
            lay_assigned = itemView.findViewById(R.id.lay_assigned);
            lay_overdue = itemView.findViewById(R.id.lay_overdue);
            lay_critical = itemView.findViewById(R.id.lay_critical);
            lay_unapproved = itemView.findViewById(R.id.lay_unapproved);
            lay_unbilled = itemView.findViewById(R.id.lay_unbilled);
            txt_client_name = itemView.findViewById(R.id.txt_client_name);


            lay_assigned.setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View v) {
                    Intent intent=new Intent(context, ClientDetailsCntActivity.class);
                    intent.putExtra("Mode","A");//A
                    intent.putExtra("ShipToMasterId",clientDetailsBeansArrayList.get(getAdapterPosition()).getShipToMasterId());
                    intent.putExtra("ConsigneeName",clientDetailsBeansArrayList.get(getAdapterPosition()).getConsigneeName());
                    context.startActivity(intent);
                 //   ((ClientDetailsDisplay)context).rowClick("assigned",clientDetailsBeansArrayList.get(getAdapterPosition()),getAdapterPosition());
                }
            });

            lay_overdue.setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View v) {
                    //((ClientDetailsDisplay)context).rowClick("overdue",clientDetailsBeansArrayList.get(getAdapterPosition()),getAdapterPosition());
                    Intent intent=new Intent(context, ClientDetailsCntActivity.class);
                    intent.putExtra("Mode","O");//A
                    intent.putExtra("ShipToMasterId",clientDetailsBeansArrayList.get(getAdapterPosition()).getShipToMasterId());
                    intent.putExtra("ConsigneeName"
                            ,clientDetailsBeansArrayList.get(getAdapterPosition()).getConsigneeName());
                    context.startActivity(intent);
                }
            });

            lay_critical.setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View v) {
                    Intent intent=new Intent(context, ClientDetailsCntActivity.class);
                    intent.putExtra("Mode","C");//A
                    intent.putExtra("ShipToMasterId",clientDetailsBeansArrayList.get(getAdapterPosition()).getShipToMasterId());
                    intent.putExtra("ConsigneeName",clientDetailsBeansArrayList.get(getAdapterPosition()).getConsigneeName());
                    context.startActivity(intent);
                }
            });

            lay_unapproved.setOnClickListener(new View.OnClickListener() {
                @Override
                public void onClick(View v) {
                    Intent intent=new Intent(context, ClientDetailsCntActivity.class);
                    intent.putExtra("Mode","Appr");//A
                    intent.putExtra("ShipToMasterId",clientDetailsBeansArrayList.get(getAdapterPosition()).getShipToMasterId());
                    intent.putExtra("ConsigneeName",clientDetailsBeansArrayList.get(getAdapterPosition()).getConsigneeName());
                    context.startActivity(intent);
                }
            });




        }
    }
}
